# DevOps æ™ºèƒ½ä½“ç³»ç»Ÿ

åŸºäº LangGraph çš„ DevOps æ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–å¤„ç†æ•…éšœæ’æŸ¥ã€æ ¹å› åˆ†æå’Œä¿®å¤å»ºè®®ç”Ÿæˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **æ™ºèƒ½æ—¥å¿—åˆ†æ**: è‡ªåŠ¨è¯†åˆ«æ—¥å¿—ä¸­çš„é”™è¯¯ã€è­¦å‘Šå’Œæ€§èƒ½é—®é¢˜
- ğŸš¨ **å‘Šè­¦åˆ†æ**: åˆ†æç›‘æ§å‘Šè­¦ï¼Œè¯†åˆ«å‘Šè­¦æ¨¡å¼å’Œæ ¹æœ¬åŸå› 
- ğŸ§  **æ ¹å› åˆ†æ**: æ±‡æ€»å¤šæºæ•°æ®ï¼Œè¿›è¡Œæ™ºèƒ½æ ¹å› åˆ†æ
- ğŸ“Š **è‡ªåŠ¨æŠ¥å‘Šç”Ÿæˆ**: ç”Ÿæˆè¯¦ç»†çš„æ•…éšœåˆ†ææŠ¥å‘Šå’Œä¿®å¤å»ºè®®
- ğŸ”„ **åŠ¨æ€ä»»åŠ¡è°ƒåº¦**: æ ¹æ®åˆ†æç»“æœåŠ¨æ€è°ƒæ•´ä»»åŠ¡æ‰§è¡Œç­–ç•¥
- ğŸ§© **æ’ä»¶åŒ–æ¶æ„**: æ”¯æŒè‡ªå®šä¹‰åˆ†æå™¨çš„åŠ¨æ€åŠ è½½å’Œæ‰©å±•

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Planner   â”‚â”€â”€â”€â”€â”‚Log Analyser  â”‚â”€â”€â”€â”€â”‚  Summary Agent  â”‚
â”‚  (è§„åˆ’å™¨)    â”‚    â”‚ (æ—¥å¿—åˆ†æå™¨)   â”‚    â”‚   (æ€»ç»“æ™ºèƒ½ä½“)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚Alarm Analyserâ”‚
                  â”‚ (å‘Šè­¦åˆ†æå™¨)   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®ç»“æ„

```
devops-agent/
â”œâ”€â”€ analyzer_interface.py      # åˆ†æå™¨ç»Ÿä¸€æ¥å£å®šä¹‰
â”œâ”€â”€ log_analyzer.py           # æ—¥å¿—åˆ†æå™¨å®ç°
â”œâ”€â”€ alarm_analyzer.py         # å‘Šè­¦åˆ†æå™¨å®ç°
â”œâ”€â”€ summary_agent.py          # æ€»ç»“æ™ºèƒ½ä½“å®ç°
â”œâ”€â”€ analyzer_selector.py     # åˆ†æå™¨é€‰æ‹©å™¨
â”œâ”€â”€ task_reallocator.py      # ä»»åŠ¡é‡è°ƒåº¦å™¨
â”œâ”€â”€ planner.py               # æ ¸å¿ƒè§„åˆ’å™¨
â”œâ”€â”€ devops_agent.py          # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ config.py                # ç³»ç»Ÿé…ç½®
â”œâ”€â”€ example_usage.py         # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ requirements.txt         # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œç¤ºä¾‹

```bash
python example_usage.py
```

### 3. è‡ªå®šä¹‰ä½¿ç”¨

```python
from devops_agent import DevOpsAgent

# åˆ›å»ºæ™ºèƒ½ä½“å®ä¾‹
agent = DevOpsAgent()

# å‡†å¤‡æ•…éšœæ•°æ®
incident_data = {
    'incident_id': 'your-incident-id',
    'description': 'æ•…éšœæè¿°',
    'logs': ['æ—¥å¿—è¡Œ1', 'æ—¥å¿—è¡Œ2', ...],
    'alarms': [{'id': 'å‘Šè­¦ID', 'severity': 'ä¸¥é‡æ€§', ...}]
}

# åˆ†ææ•…éšœ
result = await agent.analyze_incident(incident_data)
print(result)
```

## æ ¸å¿ƒæ¨¡å—è¯´æ˜

### Planner (è§„åˆ’å™¨)
- ç³»ç»Ÿæ ¸å¿ƒè°ƒåº¦æ¨¡å—
- è´Ÿè´£è§£æè¾“å…¥ã€åˆ›å»ºä»»åŠ¡è®¡åˆ’
- åè°ƒå„ä¸ªåˆ†æå™¨çš„å·¥ä½œ
- ç”Ÿæˆæœ€ç»ˆåˆ†ææŠ¥å‘Š

### Log Analyzer (æ—¥å¿—åˆ†æå™¨)
- åˆ†æç³»ç»Ÿå’Œåº”ç”¨æ—¥å¿—
- è¯†åˆ«é”™è¯¯ã€è­¦å‘Šå’Œæ€§èƒ½é—®é¢˜
- æ”¯æŒè‡ªå®šä¹‰é”™è¯¯æ¨¡å¼åŒ¹é…
- æä¾›åŸºäºæ¨¡å¼çš„ä¿®å¤å»ºè®®

### Alarm Analyzer (å‘Šè­¦åˆ†æå™¨)
- åˆ†æç›‘æ§ç³»ç»Ÿå‘Šè­¦
- è¯†åˆ«å‘Šè­¦æ¨¡å¼å’Œæ—¶é—´ç›¸å…³æ€§
- å¯¹å‘Šè­¦è¿›è¡Œæ™ºèƒ½åˆ†ç±»
- æä¾›å‘Šè­¦æ ¹å› åˆ†æ

### Summary Agent (æ€»ç»“æ™ºèƒ½ä½“)
- æ±‡æ€»å„åˆ†æå™¨ç»“æœ
- æ‰§è¡Œè·¨æ¨¡å—æ ¹å› åˆ†æ
- ç”Ÿæˆç»¼åˆä¿®å¤å»ºè®®
- è®¡ç®—æ€»ä½“åˆ†æç½®ä¿¡åº¦

### Analyzer Selector (åˆ†æå™¨é€‰æ‹©å™¨)
- åŠ¨æ€é€‰æ‹©åˆé€‚çš„åˆ†æå™¨
- æ”¯æŒåˆ†æå™¨çš„æ³¨å†Œå’Œæ³¨é”€
- éªŒè¯åˆ†æå™¨å…¼å®¹æ€§
- æ”¯æŒæ’ä»¶åŒ–æ‰©å±•

### Task Reallocator (ä»»åŠ¡é‡è°ƒåº¦å™¨)
- æ ¹æ®åˆ†æç»“æœåŠ¨æ€è°ƒæ•´ä»»åŠ¡
- è®°å½•åˆ†æå™¨æ€§èƒ½æŒ‡æ ‡
- æ”¯æŒè‡ªå®šä¹‰é‡è°ƒåº¦è§„åˆ™
- æä¾›ä»»åŠ¡æ‰§è¡Œå†å²

## æ‰©å±•å¼€å‘

### æ·»åŠ è‡ªå®šä¹‰åˆ†æå™¨

1. ç»§æ‰¿ `AnalyzerInterface` æ¥å£
2. å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•
3. åœ¨ `AnalyzerSelector` ä¸­æ³¨å†Œæ–°åˆ†æå™¨

```python
from analyzer_interface import AnalyzerInterface, TaskData, AnalysisResult

class CustomAnalyzer(AnalyzerInterface):
    def get_name(self) -> str:
        return "CustomAnalyzer"
    
    def get_supported_task_types(self) -> List[TaskType]:
        return [TaskType.CUSTOM_ANALYSIS]
    
    async def analyze(self, task_data: TaskData) -> AnalysisResult:
        # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘
        pass
    
    def can_handle_task(self, task_data: TaskData) -> bool:
        # å®ç°ä»»åŠ¡å¤„ç†èƒ½åŠ›æ£€æŸ¥
        pass
```

## é…ç½®è¯´æ˜

ç³»ç»Ÿé…ç½®åœ¨ `config.py` ä¸­å®šä¹‰ï¼ŒåŒ…æ‹¬ï¼š

- **LangGraphé…ç½®**: å·¥ä½œæµæ‰§è¡Œå‚æ•°
- **åˆ†æå™¨é…ç½®**: å„ä¸ªåˆ†æå™¨çš„ç‰¹å®šå‚æ•°
- **ç³»ç»Ÿé…ç½®**: å¹¶å‘ã€è¶…æ—¶ç­‰ç³»ç»Ÿçº§å‚æ•°

## API ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬æ•…éšœåˆ†æ

```python
import asyncio
from devops_agent import DevOpsAgent

async def analyze_incident():
    agent = DevOpsAgent()
    
    incident_data = {
        'incident_id': 'INC-001',
        'description': 'æœåŠ¡å“åº”å¼‚å¸¸',
        'logs': [
            '2024-01-15 10:30:01 ERROR: Database connection failed',
            '2024-01-15 10:30:02 WARNING: High memory usage: 90%'
        ],
        'alarms': [
            {
                'id': 'ALM-001',
                'severity': 'critical',
                'message': 'æœåŠ¡ä¸å¯ç”¨',
                'timestamp': '2024-01-15T10:30:00Z'
            }
        ]
    }
    
    result = await agent.analyze_incident(incident_data)
    return result

# è¿è¡Œåˆ†æ
result = asyncio.run(analyze_incident())
print(f"åˆ†æç»“æœ: {result}")
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®ä»“åº“: [https://github.com/pyx123/agent](https://github.com/pyx123/agent)
- Issues: [https://github.com/pyx123/agent/issues](https://github.com/pyx123/agent/issues)

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°åŸºç¡€çš„æ—¥å¿—å’Œå‘Šè­¦åˆ†æåŠŸèƒ½
- æ”¯æŒ LangGraph å·¥ä½œæµ
- æä¾›å®Œæ•´çš„æ ¹å› åˆ†æå’Œä¿®å¤å»ºè®®